class DashCSS {
  static initDragPanels() {
    document.querySelectorAll('.dash-drag-panel').forEach(panel => {
      let isDragging = false;
      let startX, startY;
      
      panel.addEventListener('mousedown', (e) => {
        isDragging = true;
        panel.classList.add('dragging');
        startX = e.clientX;
        startY = e.clientY;
      });
      
      document.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        
        const x = e.clientX - startX;
        const y = e.clientY - startY;
        
        panel.style.setProperty('--drag-rotate-y', `${x / 10}deg`);
        panel.style.setProperty('--drag-rotate-x', `${-y / 10}deg`);
        panel.style.setProperty('--drag-translate-x', `${x / 20}px`);
        panel.style.setProperty('--drag-translate-y', `${y / 20}px`);
      });
      
      document.addEventListener('mouseup', () => {
        if (!isDragging) return;
        isDragging = false;
        panel.classList.remove('dragging');
        
        // Smooth reset
        setTimeout(() => {
          panel.style.removeProperty('--drag-rotate-y');
          panel.style.removeProperty('--drag-rotate-x');
          panel.style.removeProperty('--drag-translate-x');
          panel.style.removeProperty('--drag-translate-y');
        }, 300);
      });
    });
  }
}

// Initialize on DOM load
document.addEventListener('DOMContentLoaded', () => {
  DashCSS.initDragPanels();
});
